<h2 mat-dialog-title>
  <mat-icon>payment</mat-icon>
  Realizar Pago
</h2>
<mat-dialog-content>
  <form [formGroup]="paymentForm">
    <!-- Mostrar el monto total de la cuota -->
    <div class="payment-amount">
      <mat-icon>attach_money</mat-icon>
      <span>Monto Total de la Cuota: {{ data.installment.amount | currency }}</span>
    </div>

    <!-- Campo para ingresar el monto a pagar -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Monto a Pagar</mat-label>
      <input
        matInput
        type="number"
        formControlName="amountToPay"
        placeholder="Ingrese el monto a pagar"
        (input)="validateAmount()"
      />
      <mat-icon matSuffix>attach_money</mat-icon>
      <mat-error *ngIf="paymentForm.get('amountToPay')?.hasError('max')">
        El monto no puede ser mayor que {{ data.installment.amount | currency }}.
      </mat-error>
    </mat-form-field>

    <!-- Método de Pago -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Método de Pago</mat-label>
      <mat-select formControlName="paymentMethod">
        <mat-option value="EFECTIVO">
          <mat-icon>money</mat-icon>
          Efectivo
        </mat-option>
        <mat-option value="TRANSFERENCIA">
          <mat-icon>account_balance</mat-icon>
          Transferencia
        </mat-option>
        <mat-option value="YAPE">
          <mat-icon>smartphone</mat-icon>
          Yape
        </mat-option>
        <mat-option value="PLIN">
          <mat-icon>smartphone</mat-icon>
          Plin
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Fecha de Pago -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Fecha de Pago</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="paymentDate">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">
    <mat-icon>cancel</mat-icon>
    Cancelar
  </button>
  <button mat-button color="primary" (click)="onSubmit()" [disabled]="paymentForm.invalid">
    <mat-icon>payment</mat-icon>
    Pagar
  </button>
</mat-dialog-actions>